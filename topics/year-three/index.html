<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta charset="utf-8" />
        <link rel=stylesheet type=text/css href="../../css/slide.css" />
        <link rel=stylesheet type=text/css href="../../css/slide2.css" />
        <link rel=stylesheet type=text/css href="../../css/desert.css" />
        <link rel=stylesheet type=text/css href="css/year-three.css" />
    </head>
    <body id="year-three">
        <div id="articles">
            <article>
                <h1 class="title">2015秋职称评定述职</h1>
                <h2 class="subtitle">沈毅</h2>
            </article>
            <article class="center">
                <h2>自我介绍</h2>
                <img data-src="" class="avatar" alt="">
                <ul class="content list" style="font-size:22px;">
                    <li>2012 / 07 入职</li>
                    <li>2D 和 3D 图形绘制，可视化</li>
                    <li>EFE Data Visualization</li>
                    <li>W3C Data Visualization Community Group</li>
                    <li>上次晋升：14年秋</li>
                </ul>
            </article>
            <article class="center">
                <h2>2014 - 2015 主要负责和参与的项目</h2>
                <ul class="content list">
                    <li class="item outfocus-fade">开发维护 ECharts</li>
                    <li class="item outfocus-fade">负责人物图谱前端开发（14/11 - 15/03)</li>
                    <li class="item outfocus-fade">ECharts-X 开发以及 Grapher.js</li>
                    <li class="item outfocus-fade">WebGL 框架 QTEK 的维护</li>
                    <!--
                    <li class="item outfocus-fade">展厅大屏</li>
                    -->
                </ul>
            </article>
            <article class="center">
                <h2>ECharts</h2>
                <ul class="content list">
                    <!-- 之前林峰还在的时候主要是负责 ECharts 底层的 2D 图形库 ZRender 的开发优化，
                    今年年初林峰离职创业后，就把主要的精力都放在 ECharts 开发上了  -->
                    <li class="item outfocus-fade">ZRender 优化</li>
                    <li class="item outfocus-fade">ECharts 工具链</li>
                    <li class="item outfocus-fade">ECharts 的完善
                        <p>MarkLine 性能优化</p>
                        <p>和弦图和力导向图优化</p>
                        <p>Bug 修复，版本迭代</p>
                    </li>
                </ul>
            </article>
            <article class="center">
                <h2>ZRender 优化 - 图形扩展</h2>
                <div class="content">
                    <div>
                        <h3>问题</h3>
                        <ul class="list">
                            <li>
                                图形扩展麻烦
                                <p>需要每个图形自己实现判断是否和鼠标坐标相交</p>
                            </li>
                            <li>复杂图形判断不精确</li>
                        </ul>
                    </div>
                    <div class="item">
                        <h3>期望</h3>
                        <ul class="list">
                            <li>只用关心图形形状的描述</li>
                        </ul>
                    </div>
                </div>
            </article>
            <article class="center">
                <h2>方案</h2>
                <div class="row content" style="width:1000px;">
                    <ul class="left list" style="line-height:50px;width:40%;">
                        <li style="margin-top:20px;">Path2D 抽象
                            <p>代理路径绘制</p>
                            <p>路径绘制数据存储</p>
                            <p>包围盒计算</p>
                            <p>相交判断</p>
                        </li>
                        <li>JavaScript 精确判断点在路径上
                            <p>绘制模式：Fill, Stroke</p>
                            <p>路径：Bezier, Arc, Line</p>
                        </li>
                    </ul>
                    <img class="right" style="margin-top:60px;width:60%;" data-src="img/zr-architecture-path2d.png" alt="">
                </div>
            </article>
            <article class="center">
                <h2>优点</h2>
                <ul class="content list">
                    <li class="item">
                        性能
                        <p>根据图形的复杂度，是 Native 方式的十几倍到几十倍</p>
                    </li>
                    <li class="item">
                        扩展方便
                        <p>不用再关心如何计算包围盒和判断相交</p>
                    </li>
                    <li class="item">
                        只依赖路径数据
                        <p>可以在 Node 上使用</p>
                    </li>
                </ul>
            </article>
            <article>
                <h2>性能</h2>
                <div class="item" style="height:500px;" data-action="showContainBench"></div>
            </article>
            <article class="center">
                <h2>ZRender 优化 - 多个渲染模块</h2>
                <div class="row content" style="width:1000px;">
                    <ul class="list left" style="width:30%;">
                        <li>Canvas - 高性能
                            <p>分层绘制</p>
                            <p>像素操作</p>
                        </li>
                        <li>SVG - 移动
                            <p style="opacity:0.3">服务器生成</p>
                        </li>
                        <li>VML - IE8
                            <p>替代 excanvas</p>
                        </li>
                    </ul>
                    <img class="right" style="width:70%;margin-top:60px;" data-src="img/zr-architecture-painter.png" alt="">
                </div>
            </article>
            <article class="center">
                <h2>工具链</h2>
                <!-- 过渡方案 -->
                <div class="content row" style="width:100%;">
                    <ul class="list left" style="width:40%">
                        <li>在线构建工具
                            <p>对前端不熟悉的用户打包困难，默认的非 AMD 模块代码包太大</p>
                        </li>
                        <li>在线地图数据生成工具
                            <p>用户觉得地图数据老旧，数据更新量大，更新频繁</p>
                        </li>
                        <li>Option 索引工具
                            <p>用户不知道如何查找配置项</p>
                        </li>
                    </ul>
                    <div class="right" style="width:60%;position:relative;">
                        <img class="item shadow" style="right:20px;position:absolute;top:50px;width:90%;" data-src="img/echarts-builder-web.png" alt="">
                        <img class="item shadow" style="right:10px;position:absolute;top:70px;width:90%;" data-src="img/echarts-map-tool.png" alt="">
                        <img class="item shadow" style="right:0px;position:absolute;top:90px;width:90%;" data-src="img/echarts-option-tool.png" alt="">
                    </div>
                </div>
            </article>

            <article class="center">
                <h2>Canvas 瓶颈</h2>
                <ul class="content list">
                    <li>
                        能够实时展现的图形在千级别
                        <p>Trick：像素操作</p>
                    </li>
                    <li>主要用于展现二维</li>
                    <img class="item" data-src="img/webgl.png" alt="">
                </ul>
            </article>
            <article class="center">
                <h2>ECharts-X</h2>
                <ul class="content list">
                    <li class="item outfocus-fade">实时展现几万到几十万的数据</li>
                    <li class="item outfocus-fade">效果更吸引眼球</li>
                    <li class="item outfocus-fade">三维数据可视化</li>
                </ul>
            </article>
            <article class="center">
                <h2>技术点</h2>
                <ul class="content list">
                    <li>整合 2D 和 3D 图形的管理和绘制</li>
                    <li>GPU 加速的动画和粒子特效</li>
                    <li>大数据的展现优化</li>
                    <li>日照信息表现</li>
                    <li>...</li>
                </ul>
            </article>
            <article class="center">
                <h1>2D 和 3D 图形统一的管理</h1>
            </article>
            <article class="center">
                <img data-src="img/ecx-architecture.png" height="600" alt="">
            </article>
            <article data-action="showLayeredEcx">
                <h2>分层</h2>
                <div class="fullscreen" id="layered-ecx"></div>
                <div class="item" data-action="transformLayeredEcx"></div>
            </article>
            <article class="center">
                <h2>Canvas Surface 事件和重绘</h2>
                <img data-src="img/canvas-surface.png" style="height:500px;" alt="">
            </article>
            <article>
                <h1>其它技术点</h1>
            </article>
            <article data-action="showGlobeFlights">
                <h2>GPU 加速的动画</h2>
                <div class="fullscreen" id="globe-flights-container"></div>
            </article>
            <article class="center" data-action="showGlobeWind">
                <h2>GPU 加速的向量场粒子特效</h2>
                <div class="fullscreen" id="globe-wind-container"></div>
                <img class="item" style="margin-top:100px;position:relative;z-index:1" data-src="img/gpgpu.png" alt="">
            </article>
            <article data-action="showGlobe">
                <h2>日照表现</h2>
                <div class="fullscreen" id="globe-container"></div>
                <ul class="item side content" style="font-size:30px;">
                    <li>Lambert Shading</li>
                    <li>Bump Mapping</li>
                </ul>
            </article>
            <article class="center">
                <h2><img data-src="img/grapher.png" style="width:70px;height:70px;vertical-align:middle;margin-right:10px;" alt="">Grapher.js</h2>
                <p style="opacity:0.7">Wise 端数学公式的 3D 展现</p>
                <ul class="content list">
                    <li>
                        体积控制
                        <p>QTEK 模块粒度和依赖小，最后打包 150k</p>
                        <p>Three.js 400k+</p>
                    </li>
                    <li>移动端支持多浏览器
                        <p>Canvas绘制3D</p>
                    </li>
                </ul>
            </article>
            <article class="center">
                <div class="row">
                    <div class="left">
                        <img data-src="img/surface-eq.svg" style="width:300px;" alt="">
                        <canvas data-action="showSurface" class="item" style="width: 400px; height:400px;"></canvas>
                    </div>
                    <div class="right">
                        <img data-src="img/parametric-eq.svg" style="width:400px;" alt="">
                        <canvas data-action="showParametricSurface" class="item" style="width: 400px; height:400px;"></canvas>
                    </div>
                </div>
            </article>
            <article>
                <h1>人物图谱</h1>
            </article>
            <article class="center">
                <h2>知识图谱运营产品</h2>
                <img data-src="img/worldcup2.png" class="item shadow" alt="">
                <img style="margin-top:-400px;margin-left:100px;" data-src="img/xiaoshidai.png" class="item shadow" alt="">
                <img style="margin-top:-400px;margin-left:200px;" data-src="img/ice_bucket.png" class="item shadow" alt="">
            </article>
            <article class="center">
                <h2>通用人物图谱 - 娱乐圈人物关系的聚合展现</h2>
                <a href="http://tupu.baidu.com/tupu/261975.html">
                    <img class="item shadow" data-src="img/tupu.png" style="width:600px;" alt="">
                </a>
                <ul class="list content" style="width:400px;">
                    <li class="item">没有可以参考的产品</li>
                    <li class="item">从无到有确定展现方案和交互细节</li>
                </ul>
            </article>
            <article class="center">
                <h2>关键点 - 自动布局</h2>
                <ul class="content list">
                    <li class="item outfocus-fade">分布均匀</li>
                    <li class="item outfocus-fade">辐射状的树结构</li>
                    <li class="item outfocus-fade">层级明显</li>
                    <li class="item outfocus-fade">不能有重叠</li>
                </ul>
            </article>
            <article class="center">
                <h2>力引导布局算法优化</h2>
                <ul class="content list" id="force-optimize-list">
                    <li>
                        树形预布局
                        <p>不同高度子树的均匀分布</p>
                    </li>
                    <li>
                        带约束的力引导布局
                        <p>层方向上的力约束</p>
                        <p>节点和边的斥力</p>
                    </li>
<!--
                    <li><span class="item">中心辐射状</span><span class="item"> -> 树形预布局</span></li>
                    <li><span class="item">防止节点和边重叠</span><span class="item"> -> 节点和边的斥力</span></li>
                    <li><span class="item">层级明显<span class="item"> -> 层方向上的力约束</span></li>
                    <li><span class="item">复杂图的均匀分布</span><span class="item"> -> 不同高度子树的均匀分布</span></li>
                    <li><span class="item">性能</span><span class="item"> -> Node 脚本预计算</span></li>
-->
                </ul>
                <!-- TODO 配图说明 -->
            </article>
            <article class="center">
                <h2>其它细节</h2>
                <ul class="content list">
                    <li>丰富的交互动画</li>
                    <li>优化
                        <p>分层渲染</p>
                        <p>对屏幕外的图形裁剪</p>
                    </li>
                    <li>屏外节点的标签提示</li>
                </ul>
            </article>
            <article>
                数据
            </article>
            <article class="center">
                <h2>搜狗的人物图谱</h2>
                <a href="https://www.sogou.com/tupu/person.html?q=%E9%AB%98%E5%9C%86%E5%9C%86" target="_blank">
                    <img class="shadow" data-src="img/sougou-tupu.png" alt="">
                </a>
            </article>

            <article class="center">
                <h2>接下来 - ECharts 重构</h2>
                <div class="row content" style="width:800px;">
                    <div class="left">
                        <ul class="list">
                            <li>减小模块粒度</li>
                            <li>展现和数据处理分离</li>
                            <li>抽象底层模块</li>
                            <li>梳理数据流</li>
                        </ul>
                    </div>
                    <div class="right">
                        <ul class="list">
                            <li>移动版优化
                                <p>代码体积，易崩溃</p>
                            </li>
                            <li>更易于扩展新的可视化手段</li>
                            <li>方便开发人员扩展</li>
                            <li>深度集成 3D</li>
                        </ul>
                    </div>
                </div>
            </article>
            <article>
                <h1>谢 谢！</h1>
            </article>
        </div>

        <div id="slide-info">
            <h1 id="title">2015秋职称评定述职</h1>
            <ul class="aboutme">
                <li id="author">沈毅</li>
                <li id="date">2015-07-11</li>
                <li id="github">
                    GitHub :
                    @<a href="https://github.com/pissang" target="_blank">pissang</a>
                </li>
                <li id="weibo">
                    Weibo:
                    @<a href="http://weibo.com/pissang" target="_blank">pissang</a>
                </li>
            </ul>
        </div>

        <script src="../../js/lib/jquery.min.js"></script>
        <script src="../../js/lib/esl.js"></script>
        <script src="../../js/lib/prettify.js"></script>
        <script src="../../js/lib/zrender.js"></script>
        <script src="../../js/lib/qtek.amd.min.js"></script>
        <script src="../../js/lib/echarts/echarts.js"></script>
        <script src="../../js/lib/echarts-x/echarts-x.js"></script>
        <script src="../../js/lib/underscore.js"></script>
        <script src="../../js/slides.js"></script>

        <script>
            require.config({
                paths: {
                    echarts: '../../js/lib/echarts',
                    'echarts-x': '../../js/lib/echarts-x',
                    'grapher': '../../js/lib/grapher'
                }
            });
            require(['js/main']);
        </script>
    </body>
</html>